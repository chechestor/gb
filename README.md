# Репозиторий

# Курс Django освобожденный, урок 6, развертывание проекта

## Задание

Настроить работу проекта на сервере.

## Решение

Запущено на сервере. Работает до 7 августа.
http://chechestor.pythonanywhere.com/
http://chechestor.pythonanywhere.com/about/
http://chechestor.pythonanywhere.com/urok3_forms/user_orders/


# Курс Django освобожденный, урок 5, панель администрирования

## Задание

Настройте под свои нужды вывод информации о клиентах, товарах и заказах на страницах вывода информации об объекте и вывода списка объектов.

## Решение

В файле Kurs_Django/project1/urok2_models/admin.py добавил:

* для заказа - отображение, фильтрацию, только читаемые поля
* для продукта - поиск, группы полей

Посмотреть тут: http://127.0.0.1:8000/adminurok2_models



# Курс Django освобожденный, урок 4, формы

## Задание

Измените модель продукта, добавьте поле для хранения фотографий продукта. Создайте форму, которая позволит сохранять фото.

## Решение

Сделано. Проверить можно так:

1. Запускаем приложение

    cd .\Kurs_Django\project1
	
    django manage.py runserver

2. Вводим в адресную строку, чтобы посмотреть продукы какие есть и узнат их ID:

	http://127.0.0.1:8000/urok3_forms/products


3. Вводим в адресную строку и ф ворме выбираем картинку продукта:

	http://127.0.0.1:8000/urok3_forms/set_image

ВАЖНО! У меня не получилось вывести картинку продукта в форму html!... Не знаю, почему, требуется разобраться. Магия с путями? Недописанный settings? Ошибка в html?


# Курс Django освобожденный, урок 3, представления и шаблоны

## Задание

Продолжаем работать с товарами и заказами.

Создайте шаблон, который выводит список заказанных клиентом товаров из всех его заказов с сортировкой по времени:
— за последние 7 дней (неделю)
— за последние 30 дней (месяц)
— за последние 365 дней (год)

Товары в списке не должны повторятся.

## Решение

В проекте Kurs_Django\project1 добавил приложение urok2_models добавил представления и шаблоны. Проверить можно так:

1. Запускаем приложение

    cd .\Kurs_Django\project1
	
    django manage.py runserver

2. Вводим в адресную строку:

	http://127.0.0.1:8000/urok3_forms/user_orders/2/year/

Здесь:
- 2 - номер id клинета (pk)
- year - последний период. Возможные варианты: year, month, week, day

Примечание: для просмотра надо создать и заполнить БД по примерам с предыдущего урока.


# Курс Django освобожденный, урок 2, модели

## Задание

Создайте три модели Django: клиент, товар и заказ.

Клиент может иметь несколько заказов. Заказ может содержать несколько товаров. Товар может входить в несколько заказов.

Поля модели «Клиент»:
- имя клиента
- электронная почта клиента
- номер телефона клиента
- адрес клиента
- дата регистрации клиента

Поля модели «Товар»:
- название товара
- описание товара
- цена товара
- количество товара
- дата добавления товара

Поля модели «Заказ»:
- связь с моделью «Клиент», указывает на клиента, сделавшего заказ
- связь с моделью «Товар», указывает на товары, входящие в заказ
- общая сумма заказа
- дата оформления заказа

Допишите несколько функций CRUD для работы с моделями по желанию. Что по вашему мнению актуально в такой ба

## Решение

В Базе катулаьно добавление всех сущностей (клиент, товар, заказ), изменение всех сущностей (на случай ошибок оператора при вводе). Удаление актуально только на случаи чистки БД от безнадежно утаревших записей, если совсем плохо живется с большим размером БД. А так вообще, пусть остается история.


### Создание и просмотр двух клинетов

python manage.py client_create Peater mil@mail.ru +79265646830 "Bakery streek London"
python manage.py client_create Mikhael momo@gmail.com +7966123456 "Bishkeke City Chuy 110"
python manage.py client_list

### Создание и просмотр двух товаров

python manage.py product_create tapki 1.12 10 'Every day usage carpers'
python manage.py product_create shlepki 2.27 10 'Sea visit carpers'
python manage.py product_list


### Создание и просмотр заказа

python manage.py order_create 1 1 2
python manage.py order_list

### Изменение товаров в заказе

python manage.py order_update 1 2
python manage.py order_list

### Удаление и просмотр заказа

python manage.py order_delete 1
python manage.py order_list




# Курс Django освобожденный, урок 1

### Задание

Создайте пару представлений в вашем первом приложении:
— главная
— о себе.

Внутри каждого представления должна быть переменная html — многострочный текст с HTML-вёрсткой и данными о вашем первом Django-сайте и о вас.

    Сохраняйте в логи данные о посещении страниц.

### Запуск

Перейти в папку скрипта:

    cd .\Kurs_Django\project1

Запустить скрипт, указав в параметрах все URL картинок. Пример:

    django manage.py runserver
	
В браузере открываем две страницы:

    http://127.0.0.1:8000 - Главная
	http://127.0.0.1:8000/about - О себе





# Курс Flask, промежуточное тестирование, доп.возможности FastAPI

### Задание

Объедините студентов в команды по 2-5 человек в сессионных залах.

Необходимо создать базу данных для интернет-магазина. База данных должна состоять из трёх таблиц: товары, заказы и пользователи.
— Таблица «Товары» должна содержать информацию о доступных товарах, их описаниях и ценах.
— Таблица «Заказы» должна содержать информацию о заказах, сделанных пользователями.
— Таблица «Пользователи» должна содержать информацию о зарегистрированных пользователях магазина.
• Таблица пользователей должна содержать следующие поля: id (PRIMARY KEY), имя, фамилия, адрес электронной почты и пароль.
• Таблица заказов должна содержать следующие поля: id (PRIMARY KEY), id пользователя (FOREIGN KEY), id товара (FOREIGN KEY), дата заказа и статус заказа.
• Таблица товаров должна содержать следующие поля: id (PRIMARY KEY), название, описание и цена.

Создайте модели pydantic для получения новых данных и возврата существующих в БД для каждой из трёх таблиц.
Реализуйте CRUD операции для каждой из таблиц через создание маршрутов, REST API.

Данная промежуточная аттестация оценивается по системе "зачет" / "не зачет"

"Зачет" ставится, если Слушатель успешно выполнил задание.
"Незачет" ставится, если Слушатель не выполнил задание.

Критерии оценивания:
— Слушатель создал базу данных для интернет-магазина. База данных должна состоять из трёх таблиц: товары, заказы и пользователи.
— Таблица «Товары» должна содержать информацию о доступных товарах, их описаниях и ценах.
— Таблица «Заказы» должна содержать информацию о заказах, сделанных пользователями.
— Таблица «Пользователи» должна содержать информацию о зарегистрированных пользователях магазина.

### Запуск

Перейти в папку скрипта:

    cd .\Kurs_Flask\Test_FastAPI_extended\

Запустить скрипт, указав в параметрах все URL картинок. Пример:

    uvicorn main:app --reload
	
### Тестирование

В браузере открываем и тыкаем интерактивный интерфейс:

    http://127.0.0.1:8000/docs
	
Можно нагенерить материала в БД вызовом

	http://127.0.0.1:8000/init_fake


# Курс Flask, промежуточное тестирование, многопоточность, асинхронность

### Задание

Необходимо создать API для управления списком задач. Каждая задача должна содержать заголовок и описание.
Для каждой задачи должна быть возможность указать статус (выполнена/не выполнена).

API должен содержать следующие конечные точки:
— GET /tasks — возвращает список всех задач.
— GET /tasks/{id} — возвращает задачу с указанным идентификатором.
— POST /tasks — добавляет новую задачу.
— PUT /tasks/{id} — обновляет задачу с указанным идентификатором.
— DELETE /tasks/{id} — удаляет задачу с указанным идентификатором.

Для каждой конечной точки необходимо проводить валидацию данных запроса и ответа. Для этого использовать библиотеку Pydantic.

### Запуск

Перейти в папку скрипта:

    cd .\Kurs_Flask\Test_flask\

Запустить скрипт, указав в параметрах все URL картинок. Пример:

    uvicorn app2:app --reload
	
### Тестирование

В браузере открываем и тыкаем интерактивный интерфейс:

    http://127.0.0.1:8000/docs

# Курс Flask, промежуточное тестирование, многопоточность, асинхронность


### Задание

Написать программу, которая скачивает изображения с заданных URL-адресов и сохраняет их на диск.
Каждое изображение должно сохраняться в отдельном файле, название которого соответствует названию изображения
в URL-адресе.
Например, URL-адрес: https://example/images/image1.jpg -> файл на диске: image1.jpg
— Программа должна использовать многопоточный, многопроцессорный и асинхронный подходы.
— Программа должна иметь возможность задавать список URL-адресов через аргументы командной строки.
— Программа должна выводить в консоль информацию о времени скачивания каждого изображения и общем времени
выполнения программы.

### Запуск

Перейти в папку скрипта:

    cd .\Kurs_Flask\Test_sync_async\

Запустить скрипт, указав в параметрах все URL картинок. Пример:

    python main.py https://hb.bizmrg.com/gb_ui_assets/ui_banners/6586/62db1647f8ec3f716c1123e091392b66.png https://gb.ru/_nuxt/img/ef949be.png https://gb.ru/_nuxt/img/8e1cdf0.png

### Пример вывода

    INFO:root:####################
    INFO:root:Sync download:
    INFO:root:  1.78 seconds for downloaded https://hb.bizmrg.com/gb_ui_assets/ui_banners/6586/62db1647f8ec3f716c1123e091392b66.png.
    INFO:root:  1.62 seconds for downloaded https://gb.ru/_nuxt/img/ef949be.png.
    INFO:root:  1.54 seconds for downloaded https://gb.ru/_nuxt/img/8e1cdf0.png.
    INFO:root:Total time:  4.93 seconds
    INFO:root:####################
    INFO:root:Multithread download:
    INFO:root:  1.68 seconds for downloaded https://gb.ru/_nuxt/img/8e1cdf0.png.
    INFO:root:  2.65 seconds for downloaded https://gb.ru/_nuxt/img/ef949be.png.
    INFO:root:  2.79 seconds for downloaded https://hb.bizmrg.com/gb_ui_assets/ui_banners/6586/62db1647f8ec3f716c1123e091392b66.png.
    INFO:root:Total time:  2.80 seconds
    INFO:root:####################
    INFO:root:Multithread download:
    INFO:root:  1.24 seconds for downloaded https://gb.ru/_nuxt/img/ef949be.png.
    INFO:root:  1.25 seconds for downloaded https://gb.ru/_nuxt/img/8e1cdf0.png.
    INFO:root:  1.40 seconds for downloaded https://hb.bizmrg.com/gb_ui_assets/ui_banners/6586/62db1647f8ec3f716c1123e091392b66.png.
    INFO:root:Total time:  1.40 seconds




# Курс Flask, промежуточное тестирование

### Задание

Создать форму для регистрации пользователей на сайте.
Форма должна содержать поля "Имя", "Фамилия", "Email", "Пароль" и кнопку "Зарегистрироваться".
При отправке формы данные должны сохраняться в базе данных, а пароль должен быть зашифрован.

Зависимости:
- install Flask
- install Flask-WTF
- install Flask-SQLAlchemy

Установка:
- cd Flask_test
- flask install

Запуск:
- flask run --debug



# Урок 15, задача 1

### Задание

На выбор ОДНО ИЗ ДВУХ ЗАДАНИЙ (выбрано первое):

1. Взять класс студент из дз 12-го семинара, добавить запуск из командной строки(передача в качестве аргумента название
csv-файла с предметами), логирование и написать 3-5 тестов с использованием pytest.
Написать 3-5 тестов к задаче.

Сдавать дз ссылкой на репозиторий GitHub(проверьте что он не приватный перед отправкой).

### Решение

В архиве:
- Urok15_task1/Urok15_task1.py
- Urok15_task1/subjects.csv

Исполняемый файл скрипта Urok15_task1/Urok15_task1.py. Скрипт при запуске заводит много студентов и выводит из через logging.info на экран. Ничего более полезного не делает. Для запуска скрипта требуется наличие файла csv с предметами.

### Запуск скрипта с параметрами из консоли

Запуск скрипта из консоли сначала переходим в директорию со скриптом, оттуда запускаем интерпретатор:

    $ cd Urok15_task1
    $ python Urok15_task1.py subjects.csv

### Тестирование через pytest

Проверка через pytest запускается так:

    $ cd Urok15_task1
    $ pytest Urok15_task1.py


